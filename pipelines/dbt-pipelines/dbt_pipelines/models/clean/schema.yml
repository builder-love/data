version: 2

models:
  - name: normalized_project_organizations
    columns:
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: project_organization_url
        tests:
          - not_null
      - name: project_title
        tests:
          - not_null
    tests:
      - unique_combination_of_columns:
          column_names: [project_organization_url, project_title, data_timestamp]
  - name: normalized_project_repo_count
    columns:
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: repo_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: project_title
        tests:
          - not_null
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, data_timestamp]
      - check_row_count_stability:
          lower_threshold_factor: 0.50 # New count should not be less than 50% of old count
          upper_threshold_factor: 1.50 # New count should not be more than 150% of old count
          min_rows_for_check: 100
  - name: normalized_project_repos_fork_count
    columns:
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: fork_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: integer
          - dbt_expectations.expect_column_values_to_be_between:
              min_value: 0
      - name: repo
        tests:
          - not_null
    tests:
      - unique_combination_of_columns:
          column_names: [repo, data_timestamp]
  - name: normalized_project_repos_is_fork
    columns:
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: is_fork
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: boolean
    tests:
      - unique_combination_of_columns:
          column_names: [repo, data_timestamp]
  - name: normalized_project_fork_count
    columns:
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: fork_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: project_title
        tests:
          - not_null
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, data_timestamp]
  - name: normalized_project_is_fork
    columns:
      - name: project_title
        tests:
          - not_null
      - name: repo_count
      - name: is_fork_count
      - name: is_not_fork_count
      - name: is_fork_ratio
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: is_not_fork_ratio
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, data_timestamp]
  - name: normalized_project_watcher_count
    columns:
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: watcher_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: project_title
        tests:
          - not_null
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, data_timestamp]
  - name: normalized_project_repos_stargaze_count
    columns:
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: stargaze_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: integer
      - name: repo
        tests:
          - not_null
    tests:
      - unique_combination_of_columns:
          column_names: [repo, data_timestamp]
  - name: normalized_project_stargaze_count
    columns:
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: stargaze_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: project_title
        tests:
          - not_null
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, data_timestamp]
  - name: normalized_project_commit_count
    columns:
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: commit_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: project_title
        tests:
          - not_null
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, data_timestamp]
  - name: normalized_project_repos_languages
    columns:
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: language_name
      - name: size
      - name: repo_languages_total_bytes
      - name: repo
        tests:
          - not_null
    tests:
      - unique_combination_of_columns:
          column_names: [repo, language_name, data_timestamp]
  - name: normalized_project_repos_commit_count
    columns:
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: commit_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: integer
      - name: repo
        tests:
          - not_null
    tests:
      - unique_combination_of_columns:
          column_names: [repo, data_timestamp]
  - name: normalized_project_contributor_count
    columns:
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: contributor_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: project_title
        tests:
          - not_null
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, data_timestamp]
  - name: normalized_active_distinct_project_repos
    columns:
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: repo
        tests:
          - not_null
      - name: is_active
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: boolean
    tests:
      - unique_combination_of_columns:
          column_names: [repo, data_timestamp]
  - name: normalized_project_repos_contributor_count
    columns:
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: contributor_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: repo
        tests:
          - not_null
    tests:
      - unique_combination_of_columns:
          column_names: [repo, data_timestamp]
  - name: normalized_top_projects
    columns:
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: report_date
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: project_title
        tests:
          - not_null
      - name: repo_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: fork_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: stargaze_count  
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: contributor_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: commit_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: watcher_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: is_not_fork_ratio
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: commit_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: contributor_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: fork_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: stargaze_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: watcher_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: is_not_fork_ratio_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: weighted_score
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: weighted_score_index
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: project_rank
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: quartile_bucket
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: integer
      - name: project_rank_category
        tests:
          - not_null
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, report_date]
  - name: normalized_project_repos_watcher_count
    columns:
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: watcher_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: repo
        tests:
          - not_null
    tests:
      - unique_combination_of_columns:
          column_names: [repo, data_timestamp]
  - name: latest_project_organizations
    columns:
      - name: project_title
        tests:
          - not_null
      - name: project_organization_url
        tests:
          - not_null
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
    tests:
      - unique_combination_of_columns:
          column_names: [project_organization_url, project_title, data_timestamp]
  - name: latest_project_sub_ecosystems
    columns:
      - name: project_title
        tests:
          - not_null
      - name: sub_ecosystems
        tests:
          - not_null
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, sub_ecosystems, data_timestamp]
  - name: latest_project_repos
    columns:
      - name: project_title
        tests:
          - not_null
      - name: repo
        tests:
          - not_null
      - name: repo_source
        tests:
          - not_null  
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: sub_ecosystems
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, repo, data_timestamp]
  - name: latest_distinct_project_repos
    columns:
      - name: repo
        tests:
          - not_null
      - name: repo_source
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
    tests:
      - unique_combination_of_columns:
          column_names: [repo, data_timestamp]
  - name: latest_active_distinct_project_repos
    columns:
      - name: repo
        tests:
          - not_null
      - name: is_active
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: boolean
      - name: repo_source
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
    tests:
      - unique_combination_of_columns:
          column_names: [repo, data_timestamp]
      - check_row_count_stability:
          lower_threshold_factor: 0.50 # New count should not be less than 50% of old count
          upper_threshold_factor: 1.50 # New count should not be more than 150% of old count
          min_rows_for_check: 100 
  - name: latest_contributor_data
    columns:
      - name: contributor_node_id
      - name: contributor_unique_id_builder_love
        tests:
          - not_null
      - name: is_active
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: boolean
      - name: company
      - name: email
      - name: is_bounty_hunter
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: boolean
      - name: is_hireable
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: boolean
      - name: location
      - name: twitter_username
      - name: website_url
      - name: bio
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: contributor_node_id_legacy
    tests:
      - unique_combination_of_columns:
          column_names: [contributor_node_id, contributor_unique_id_builder_love, data_timestamp]
  - name: latest_contributor_activity
    columns:
      - name: contributor_node_id
        tests:
          - not_null
      - name: has_contributed_in_last_year
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: boolean
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
    tests:
      - unique_combination_of_columns:
          column_names: [contributor_node_id, data_timestamp]
      - check_row_count_stability:
          lower_threshold_factor: 0.50 # New count should not be less than 50% of old count
          upper_threshold_factor: 1.50 # New count should not be more than 150% of old count
          min_rows_for_check: 100
  - name: latest_project_repos_commit_count
    columns:
      - name: repo
        tests:
          - not_null
      - name: commit_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: integer
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
    tests:
      - unique_combination_of_columns:
          column_names: [repo, data_timestamp]
  - name: latest_project_repos_watcher_count
    columns:
      - name: repo
        tests:
          - not_null
      - name: watcher_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
    tests:
      - unique_combination_of_columns:
          column_names: [repo, data_timestamp]
  - name: latest_project_repos_is_fork
    columns:
      - name: repo
        tests:
          - not_null
      - name: is_fork
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: boolean
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
    tests:
      - unique_combination_of_columns:
          column_names: [repo, data_timestamp]
  - name: latest_project_repos_fork_count
    columns:
      - name: repo
        tests:
          - not_null
      - name: fork_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: integer
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
    tests:
      - unique_combination_of_columns:
          column_names: [repo, data_timestamp]
  - name: latest_project_repos_stargaze_count
    columns:
      - name: repo
        tests:
          - not_null
      - name: stargaze_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: integer
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
    tests:
      - unique_combination_of_columns:
          column_names: [repo, data_timestamp]
  - name: latest_project_stargaze_count
    columns:
      - name: project_title
        tests:
          - not_null
      - name: stargaze_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, data_timestamp]
  - name: latest_project_is_fork
    columns:
      - name: project_title
        tests:
          - not_null
      - name: repo_count
      - name: is_fork_count
      - name: is_not_fork_count
      - name: is_fork_ratio
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: is_not_fork_ratio
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, data_timestamp]
  - name: latest_project_fork_count
    columns:
      - name: project_title
        tests:
          - not_null
      - name: fork_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, data_timestamp]
  - name: latest_project_commit_count
    columns:
      - name: project_title
        tests:
          - not_null
      - name: commit_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, data_timestamp]
  - name: latest_project_repos_languages
    columns:
      - name: repo
        tests:
          - not_null
      - name: language_name
      - name: size
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: repo_languages_total_bytes
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
    tests:
      - unique_combination_of_columns:
          column_names: [repo, language_name, data_timestamp]
  - name: latest_project_repos_dominant_language
    columns:
      - name: repo
        tests:
          - not_null
      - name: dominant_language
        tests:
          - not_null
      - name: dominant_language_bytes
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: dominant_language_percentage
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
    tests:
      - unique_combination_of_columns:
          column_names: [repo, data_timestamp]
      - check_row_count_stability:
          lower_threshold_factor: 0.50 # New count should not be less than 50% of old count
          upper_threshold_factor: 1.50 # New count should not be more than 150% of old count
          min_rows_for_check: 100  
  - name: latest_contributor_dominant_language
    columns:
      - name: contributor_unique_id_builder_love
        tests:
          - not_null
      - name: dominant_language
      - name: repo_count
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
    tests:
      - unique_combination_of_columns:
          column_names: [contributor_unique_id_builder_love, data_timestamp]
      - check_row_count_stability:
          lower_threshold_factor: 0.50 # New count should not be less than 50% of old count
          upper_threshold_factor: 1.50 # New count should not be more than 150% of old count
          min_rows_for_check: 100  
  - name: latest_project_contributor_count
    columns:
      - name: project_title
        tests:
          - not_null
      - name: contributor_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, data_timestamp]
  - name: latest_project_watcher_count
    columns:
      - name: project_title
        tests:
          - not_null
      - name: watcher_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, data_timestamp]
  - name: latest_project_repos_contributor_count
    columns:
      - name: repo
        tests:
          - not_null
      - name: contributor_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
    tests:
      - unique_combination_of_columns:
          column_names: [repo, data_timestamp]
  - name: latest_distinct_projects
    columns:
      - name: project_title
        tests:
          - not_null
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, data_timestamp]
  - name: latest_top_repos
    columns:
      - name: repo
        tests:
          - not_null
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: fork_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: integer
      - name: stargaze_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: integer
      - name: watcher_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: integer
      - name: fork_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: stargaze_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: watcher_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: normalized_fork_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: normalized_stargaze_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: normalized_watcher_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: normalized_fork_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: normalized_stargaze_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: normalized_watcher_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: weighted_score
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: repo_rank
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: quartile_bucket
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: integer
      - name: repo_rank_category
        tests:
          - not_null
    tests:
      - unique_combination_of_columns:
          column_names: [repo, data_timestamp] 
  - name: latest_top_projects
    columns:
      - name: project_title
        tests:
          - not_null
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: report_date
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: repo_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: fork_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: stargaze_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: contributor_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: commit_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: watcher_count
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: is_not_fork_ratio
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: commit_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: contributor_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: fork_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: stargaze_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: watcher_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: is_not_fork_ratio_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: weighted_score
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: weighted_score_sma
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: project_rank
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: quartile_bucket
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: integer
      - name: project_rank_category
        tests:
          - not_null
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, report_date]
  - name: latest_top_contributors
    columns:
      - name: contributor_login
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: text
      - name: dominant_language
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: text
      - name: contributor_unique_id_builder_love
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: text
      - name: contributor_html_url
      - name: total_repos_contributed_to
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: total_contributions
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
      - name: total_repo_quality_weighted_contribution_score
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: total_og_repo_quality_weighted_contribution_score
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: normalized_total_repos_contributed_to
      - name: normalized_total_contributions
      - name: normalized_total_repo_quality_weighted_contribution_score
      - name: normalized_total_og_repo_quality_weighted_contribution_score
      - name: weighted_score
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: weighted_score_index
      - name: contributor_rank
      - name: quartile_bucket
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
    tests:
      - unique_combination_of_columns:
          column_names: [contributor_unique_id_builder_love, data_timestamp]
  - name: four_week_change_project_repos_commit_count
    columns:
      - name: repo
        tests:
          - not_null
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: commit_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: commit_count_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: integer
    tests:
      - unique_combination_of_columns:
          column_names: [repo, data_timestamp]
  - name: four_week_change_project_repos_contributor_count
    columns:
      - name: repo
        tests:
          - not_null
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: contributor_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: contributor_count_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: integer
    tests:
      - unique_combination_of_columns:
          column_names: [repo, data_timestamp]
  - name: four_week_change_project_repos_fork_count
    columns:
      - name: repo
        tests:
          - not_null
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: fork_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: fork_count_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: integer
    tests:
      - unique_combination_of_columns:
          column_names: [repo, data_timestamp]
  - name: four_week_change_project_repos_stargaze_count
    columns:
      - name: repo
        tests:
          - not_null
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: stargaze_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: stargaze_count_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: integer
    tests:
      - unique_combination_of_columns:
          column_names: [repo, data_timestamp]
  - name: four_week_change_project_repos_watcher_count
    columns:
      - name: repo
        tests:
          - not_null
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: watcher_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: watcher_count_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: integer
    tests:
      - unique_combination_of_columns:
          column_names: [repo, data_timestamp]
  - name: four_week_change_project_contributor_count
    columns:
      - name: project_title
        tests:
          - not_null
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: contributor_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: contributor_count_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, data_timestamp]
  - name: four_week_change_project_fork_count
    columns:
      - name: project_title
        tests:
          - not_null
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: fork_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: fork_count_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, data_timestamp]
  - name: four_week_change_project_stargaze_count
    columns:
      - name: project_title
        tests:
          - not_null
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: stargaze_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: stargaze_count_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, data_timestamp]
  - name: four_week_change_project_commit_count
    columns:
      - name: project_title
        tests:
          - not_null
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: commit_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: commit_count_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, data_timestamp]
  - name: four_week_change_project_is_fork
    columns:
      - name: project_title
        tests:
          - not_null
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: is_not_fork_ratio_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: is_not_fork_ratio_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, data_timestamp]
  - name: four_week_change_project_watcher_count
    columns:
      - name: project_title
        tests:
          - not_null
      - name: data_timestamp
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: timestamp without time zone
      - name: watcher_count_pct_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: numeric
      - name: watcher_count_change_over_4_weeks
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
              column_type: bigint
    tests:
      - unique_combination_of_columns:
          column_names: [project_title, data_timestamp]